# ⚡ 技术栈 - 面试速记卡

## 🎯 10秒快速回答

### Ansible
```
【作用】自动化部署
【完成】一键部署整个平台 (30-60分钟)
【关键词】Playbook、幂等性、自动化
```

### Kubernetes
```
【作用】容器编排
【完成】管理和调度容器、自动扩缩容、故障恢复
【关键词】Deployment、Service、HPA、Pod
```

### Docker
```
【作用】容器运行时
【完成】打包应用、多阶段构建、镜像优化
【关键词】Dockerfile、镜像、容器
```

### Flannel
```
【作用】网络插件
【完成】Pod间通信、Service发现、三层网络隔离
【关键词】CNI、VXLAN、网络隔离
```

### GitLab
```
【作用】代码仓库
【完成】存储代码、Webhook触发、分支管理
【关键词】Git、Webhook、代码审查
```

### Jenkins
```
【作用】CI/CD流水线
【完成】8阶段自动化 (5-10分钟)、自动回滚
【关键词】Pipeline、自动化、构建、部署
```

### Harbor
```
【作用】镜像仓库
【完成】存储镜像、版本管理、访问控制
【关键词】镜像、仓库、安全
```

### Prometheus
```
【作用】监控系统
【完成】采集多维度指标、15天保留
【关键词】指标、采集、时序数据库
```

### Grafana
```
【作用】可视化平台
【完成】展示监控数据、创建仪表板
【关键词】可视化、仪表板、图表
```

### Alertmanager
```
【作用】告警管理
【完成】分级告警、告警聚合、多通知方式
【关键词】告警、聚合、抑制
```

---

## 📊 技术栈全景图

```
┌─────────────────────────────────────────────────────────┐
│                    云原生DevOps平台                      │
├─────────────────────────────────────────────────────────┤
│ 【第1层】基础设施自动化                                  │
│ Ansible → 一键部署 (30-60分钟)                          │
├─────────────────────────────────────────────────────────┤
│ 【第2层】容器编排                                        │
│ Kubernetes 1.28 + Docker 24.0 + Flannel                │
├─────────────────────────────────────────────────────────┤
│ 【第3层】CI/CD流水线                                    │
│ GitLab → Jenkins (8阶段, 5-10分钟) → Harbor            │
├─────────────────────────────────────────────────────────┤
│ 【第4层】监控告警                                        │
│ Prometheus → Grafana + Alertmanager                     │
└─────────────────────────────────────────────────────────┘
```

---

## 🎤 30秒完整回答

```
"我的项目使用了完整的云原生技术栈。

【自动化部署】
Ansible一键部署，30-60分钟完成整个平台。

【容器编排】
Kubernetes 1.28 + Docker + Flannel，
支持自动扩缩容和故障恢复。

【CI/CD流水线】
GitLab + Jenkins (8阶段) + Harbor，
从代码提交到生产部署5-10分钟。

【监控告警】
Prometheus + Grafana + Alertmanager，
采集多维度指标，分级告警机制。

【关键成就】
完全自动化、完整CI/CD、高可用、完整监控。
"
```

---

## 💡 常见追问速记

### Q: 为什么选择Flannel而不是Calico？
```
【简短回答】
Flannel简单易用，适合小规模集群。
Calico功能更强大，适合大规模集群。

【详细回答】
我选择Flannel是因为：
1. 简单易用，部署快速
2. 性能足够，满足当前需求
3. 学习成本低

如果要改进，可以考虑Calico：
1. 支持网络策略
2. 性能更好
3. 功能更强大
```

### Q: Jenkins Pipeline怎么写的？
```
【简短回答】
8阶段Pipeline：
检出 → 构建 → 测试 → 扫描 → 镜像 → 推送 → 部署 → 验证

【详细回答】
使用Jenkinsfile定义Pipeline。
每个阶段都有错误处理。
失败自动回滚。
```

### Q: Prometheus采集了哪些指标？
```
【简短回答】
系统、K8s、容器、应用四个维度。

【详细回答】
- 系统: CPU、内存、磁盘、网络
- K8s: Pod、Deployment、Node状态
- 容器: CPU、内存、网络使用
- 应用: 请求数、延迟、错误率
```

### Q: 故障恢复怎么做到5分钟的？
```
【简短回答】
多层故障恢复机制：
- Pod异常: 1-2分钟自动重启
- 节点故障: 3-5分钟自动迁移
- 系统故障: 5-10分钟自动告警

【详细回答】
1. Liveness Probe: 检测Pod异常，自动重启
2. Readiness Probe: 检测Pod就绪，流量路由
3. Pod Anti-Affinity: 分散Pod到不同节点
4. HPA: 自动扩缩容
5. PDB: 保证最小可用副本
```

---

## 📱 打印版速记

### 第1层: 基础设施自动化
```
Ansible
├─ 作用: 自动化部署
├─ 完成: 一键部署 (30-60分钟)
├─ 关键词: Playbook、幂等性
└─ 面试话术: "使用Ansible一键部署整个平台..."
```

### 第2层: 容器编排
```
Kubernetes
├─ 作用: 容器编排
├─ 完成: 管理调度、自动扩缩容、故障恢复
├─ 关键词: Deployment、Service、HPA
└─ 面试话术: "部署K8s 1.28集群，支持自动扩缩容..."

Docker
├─ 作用: 容器运行时
├─ 完成: 打包应用、多阶段构建
├─ 关键词: Dockerfile、镜像
└─ 面试话术: "使用Docker打包应用..."

Flannel
├─ 作用: 网络插件
├─ 完成: Pod通信、Service发现、网络隔离
├─ 关键词: CNI、VXLAN
└─ 面试话术: "使用Flannel实现Pod间通信..."
```

### 第3层: CI/CD流水线
```
GitLab
├─ 作用: 代码仓库
├─ 完成: 存储代码、Webhook触发
├─ 关键词: Git、Webhook
└─ 面试话术: "使用GitLab存储代码..."

Jenkins
├─ 作用: CI/CD流水线
├─ 完成: 8阶段自动化 (5-10分钟)、自动回滚
├─ 关键词: Pipeline、自动化
└─ 面试话术: "使用Jenkins实现8阶段自动化..."

Harbor
├─ 作用: 镜像仓库
├─ 完成: 存储镜像、版本管理
├─ 关键词: 镜像、仓库
└─ 面试话术: "使用Harbor存储镜像..."
```

### 第4层: 监控告警
```
Prometheus
├─ 作用: 监控系统
├─ 完成: 采集多维度指标、15天保留
├─ 关键词: 指标、采集
└─ 面试话术: "使用Prometheus采集指标..."

Grafana
├─ 作用: 可视化平台
├─ 完成: 展示监控数据、创建仪表板
├─ 关键词: 可视化、仪表板
└─ 面试话术: "使用Grafana展示监控数据..."

Alertmanager
├─ 作用: 告警管理
├─ 完成: 分级告警、告警聚合
├─ 关键词: 告警、聚合
└─ 面试话术: "使用Alertmanager处理告警..."
```

---

## 🎯 面试前5分钟速记

### 记住这10个关键数字
```
1. Ansible: 30-60分钟 (部署时间)
2. Kubernetes: 1.28 (版本)
3. Docker: 24.0+ (版本)
4. Flannel: 三层网络隔离
5. GitLab: Webhook触发
6. Jenkins: 8阶段流程
7. Harbor: 镜像仓库
8. Prometheus: 15天保留
9. Grafana: 可视化仪表板
10. Alertmanager: 分级告警
```

### 记住这4个核心成就
```
1. 完全自动化部署 (Ansible)
2. 完整的CI/CD流程 (Jenkins 5-10分钟)
3. 高可用设计 (K8s故障恢复)
4. 完整的监控体系 (Prometheus+Grafana+Alertmanager)
```

### 记住这3个关键话术
```
1. "我使用[技术]实现[功能]"
2. "这样做的优势是[优势]"
3. "如果要改进，我会[改进方案]"
```

---

## 📋 面试中的快速查询

| 被问到 | 快速回答 |
|--------|---------|
| 技术栈是什么？ | 4层架构：自动化、容器编排、CI/CD、监控 |
| Ansible干啥的？ | 一键部署整个平台 (30-60分钟) |
| K8s干啥的？ | 容器编排、自动扩缩容、故障恢复 |
| Jenkins干啥的？ | 8阶段自动化流程 (5-10分钟) |
| 监控系统怎么做的？ | Prometheus采集、Grafana展示、Alertmanager告警 |
| 故障恢复怎么做的？ | 多层机制：Pod 1-2分钟、节点 3-5分钟 |

---

## 🎉 最后提醒

### ✅ 面试前必记
- [ ] 10个技术的作用和完成的功能
- [ ] 4层技术栈的整体架构
- [ ] 4个核心成就
- [ ] 3个关键话术

### ✅ 面试中必做
- [ ] 清楚地说明每个技术的作用
- [ ] 用具体数字支撑回答 (30-60分钟、5-10分钟等)
- [ ] 展现对整体架构的理解
- [ ] 展现对细节的掌握

### ✅ 回答追问时
- [ ] 先说简短回答
- [ ] 再说详细回答
- [ ] 最后说改进方案

---

**祝你面试成功！** 🎯✨

**记住**: 每个技术都有具体的作用和完成的功能，清楚地说明就能打动面试官！💪🚀

